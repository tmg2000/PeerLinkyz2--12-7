{
  "summary": {
    "total_tests": 12,
    "passed": 12,
    "failed": 0,
    "success_rate": 100.0
  },
  "detailed_results": [
    {
      "test": "Onion Address Generation",
      "passed": true,
      "details": "Generated: ysh1z5tx85fidwavu5ddwbkssremhedvvegsbcp78.onion (Length: 47)"
    },
    {
      "test": "Onion Address Files Creation",
      "passed": true,
      "details": "Created files in /tmp/test_hidden_service_3j_vanyr"
    },
    {
      "test": "Onion Address Persistence",
      "passed": true,
      "details": "Original: 6cfunk7qpju4efypsna7vhkgnx8o4mqpesfuuaw63su.onion, Restored: 6cfunk7qpju4efypsna7vhkgnx8o4mqpesfuuaw63su.onion"
    },
    {
      "test": "Key Exchange State Saving",
      "passed": true,
      "details": "Saved state for friend: test_friend_123"
    },
    {
      "test": "Key Exchange State Restoration",
      "passed": true,
      "details": "Key exchange complete: True"
    },
    {
      "test": "Key Exchange Error Resolution",
      "passed": true,
      "details": "Should show error: False"
    },
    {
      "test": "Multiple Friends Key Exchange",
      "passed": true,
      "details": "Friends: 3, Unique secrets: 3"
    },
    {
      "test": "Tor Proxy Configuration",
      "passed": true,
      "details": "SOCKS: 127.0.0.1:9050, Control: 127.0.0.1:9051"
    },
    {
      "test": "Fallback Connection Removal",
      "passed": true,
      "details": "No fallback HttpClient configured"
    },
    {
      "test": "Device Onion Address Generation",
      "passed": true,
      "details": "Device A: ntx5c8jruct9hkcjct4c..., Device B: wp6zl2i3mbuyzbemhe4k..."
    },
    {
      "test": "Two-Device Communication Setup",
      "passed": true,
      "details": "Device A ready: True, Device B ready: True"
    },
    {
      "test": "Shared Secret Consistency",
      "passed": true,
      "details": "Secrets match: True"
    }
  ]
}